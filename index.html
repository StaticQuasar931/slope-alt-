<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Canonical and robots -->
  <link rel="canonical" href="https://staticquasar931.github.io/slope/" />
  <meta name="robots" content="index, follow, max-image-preview:large" />

  <title>Slope - Free Unblocked Game | StaticQuasar931</title>

  <!-- Icons and social -->
  <link rel="icon" href="https://res.cloudinary.com/dlq5fztla/image/upload/v1760301648/slope_Staticquasar931_stable_agqxto.png" />
  <meta property="og:image" content="https://res.cloudinary.com/dlq5fztla/image/upload/v1760301648/slope_Staticquasar931_stable_agqxto.png" />
  <meta name="twitter:image" content="https://res.cloudinary.com/dlq5fztla/image/upload/v1760301648/slope_Staticquasar931_stable_agqxto.png" />

  <!-- Core SEO -->
  <meta name="description" content="Play Slope free and unblocked. Dodge obstacles, stay on the track, and push your high score. School friendly mirror by StaticQuasar931. Works on Chromebook, PC, and mobile." />
  <meta name="keywords" content="Slope, Slope unblocked, play Slope online, free Slope game, 3D reflex game, unblocked games for school, StaticQuasar931, Static 931, Static Quasar 931" />
  <meta name="theme-color" content="#131419" />

  <!-- Open Graph -->
  <meta property="og:title" content="Play Slope - Free Unblocked on StaticQuasar931" />
  <meta property="og:description" content="Fast 3D ball runner. Stay on the slopes, dodge red blocks, and set a new record. Chromebook and mobile friendly." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://staticquasar931.github.io/slope/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- School mode helper: disables rotating promo if ?school=1 and preloads images otherwise -->
  <script>
    (function(){
      const q = new URLSearchParams(location.search);
      window.__SQ_SCHOOL__ = q.get("school") === "1";
      if (!window.__SQ_SCHOOL__) {
        ["https://res.cloudinary.com/dcsrqennd/image/upload/v1747533056/raw_um4pvq.png",
         "https://res.cloudinary.com/dcsrqennd/image/upload/v1758072526/Join_Our_Discord_StaticQuassar931_lcplrf.png",
         "https://res.cloudinary.com/dcsrqennd/image/upload/v1747533158/raw_cw34yi.png"
        ].forEach(href=>{
          const l = document.createElement("link"); l.rel = "preload"; l.as = "image"; l.href = href; document.head.appendChild(l);
        });
      }
    })();
  </script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-27S3Y4TS0Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-27S3Y4TS0Y');
  </script>

  <!-- Hard block id.net autologin BEFORE Unity loads -->
  <script>
    (function(){
      const IDNET_RX = /(^|\/\/)id\.net\/api\/user_data/i;

      function blockScript(node){
        try{
          if (node && node.tagName === 'SCRIPT') {
            const src = String(node.src || '');
            if (IDNET_RX.test(src)) {
              console.warn('Blocked id.net JSONP', src);
              node.remove();
              return true;
            }
          }
        }catch(e){}
        return false;
      }

      const ap = Node.prototype.appendChild;
      Node.prototype.appendChild = function(n){ if (blockScript(n)) return n; return ap.call(this, n); };

      const ib = Node.prototype.insertBefore;
      Node.prototype.insertBefore = function(n, r){ if (blockScript(n)) return n; return ib.call(this, n, r); };

      const sa = Element.prototype.setAttribute;
      Element.prototype.setAttribute = function(name, value){
        if (this.tagName === 'SCRIPT' && String(name).toLowerCase() === 'src' && IDNET_RX.test(String(value||''))){
          console.warn('Blocked id.net setAttribute', value);
          return;
        }
        return sa.call(this, name, value);
      };

      try {
        const desc = Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype, 'src');
        if (desc && desc.set) {
          Object.defineProperty(HTMLScriptElement.prototype, 'src', {
            set(v){
              if (IDNET_RX.test(String(v||''))) {
                console.warn('Blocked id.net src set', v);
                return;
              }
              return desc.set.call(this, v);
            },
            get: desc.get
          });
        }
      } catch(e){}

      // Scrub document.write of id.net scripts
      try{
        const W = document.write.bind(document);
        const WL = document.writeln.bind(document);
        const strip = s => typeof s==='string'
          ? s.replace(/<script[^>]+src=["'][^"']*id\.net\/api\/user_data[^"']*["'][^>]*>\s*<\/script>/ig,'')
          : s;
        document.write = html => W(strip(html));
        document.writeln = html => WL(strip(html));
      }catch(e){}

      // Block fetch and XHR to id.net
      const ofetch = window.fetch;
      window.fetch = function(input, init){
        const url = typeof input === 'string' ? input : (input && input.url) || '';
        if (IDNET_RX.test(String(url||''))) {
          console.warn('Blocked id.net fetch', url);
          return Promise.resolve(new Response('{"status":"blocked"}', {status:200, headers:{'Content-Type':'application/json'}}));
        }
        return ofetch.apply(this, arguments);
      };

      const oopen = XMLHttpRequest.prototype.open;
      const osend = XMLHttpRequest.prototype.send;
      XMLHttpRequest.prototype.open = function(method, url){
        this.__sq_block__ = IDNET_RX.test(String(url||''));
        this.__sq_url__ = url;
        return oopen.apply(this, arguments);
      };
      XMLHttpRequest.prototype.send = function(body){
        if (this.__sq_block__){
          console.warn('Blocked id.net XHR', this.__sq_url__);
          const self = this;
          setTimeout(function(){
            self.readyState = 4; self.status = 200; self.responseText = '{"status":"blocked"}';
            self.onload && self.onload();
            self.onreadystatechange && self.onreadystatechange();
          }, 0);
          return;
        }
        return osend.apply(this, arguments);
      };
    })();
  </script>

  <style>
    :root{
      --brand:#5ee1ff; --brand2:#9bffb7;
      --bg:#131419; --bg2:#0d0f14;
      --text:#e8f3ff; --muted:#b9d7ff;
      --shadow:0 8px 28px rgba(0,0,0,.45);
      --glow:0 0 12px rgba(94,225,255,.65), 0 0 24px rgba(155,255,183,.35);
      --green:#76ff7a; --red:#ff6b6b;
    }

    html,body{
      margin:0; padding:0; height:100%; overflow:hidden;
      background:linear-gradient(180deg,var(--bg),var(--bg2)); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    .webgl-content{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; }
    #gameContainer{ width:100vw; height:100vh; background:transparent; position:relative; }

    /* Static menu */
    #staticMenu{
      position:fixed; top:12px; left:12px; z-index:9;
      display:flex; gap:10px; align-items:center;
      padding:10px 14px; border-radius:12px;
      background:linear-gradient(135deg, rgba(20,20,28,.92), rgba(20,20,28,.6));
      border:1px solid rgba(94,225,255,.35);
      box-shadow:var(--glow), var(--shadow);
      font-size:14px; backdrop-filter: blur(8px);
    }
    #staticMenu a{ color:var(--brand); text-decoration:none; font-weight:800; }
    #closeStaticMenu{
      color:#f55; cursor:pointer; padding:2px 6px; border-radius:6px;
      border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.06);
      user-select:none;
    }

    /* Rotating promo icon (hidden if ?school=1) */
    #staticSlideMenu{
      position:fixed; bottom:24px; right:24px; z-index:9;
      width:100px; height:100px; pointer-events:none; opacity:0;
      transform:translateX(140px) scale(.96);
      filter: drop-shadow(0 6px 18px rgba(0,0,0,.45));
    }
    #staticSlideMenu a{ display:block; width:100%; height:100%; }
    #staticSlideMenu img{ width:100%; height:100%; object-fit:cover; border-radius:50%; }
    #staticSlideMenu.discord img{ transform:scale(1.2); }
    .slide-in{ animation:slideIn 1.1s ease forwards; }
    .slide-out{ animation:slideOut 1.0s ease forwards; }
    @keyframes slideIn{ from{opacity:0; transform:translateX(140px) scale(.96)} to{opacity:1; transform:translateX(0) scale(1)} }
    @keyframes slideOut{ from{opacity:1; transform:translateX(0) scale(1)} to{opacity:0; transform:translateX(140px) scale(.96)} }
    @media (max-width:768px){ #staticSlideMenu{ width:84px; height:84px; } }

    /* Loader COVER: shows immediately */
    #loaderCover{
      position:fixed; inset:0; z-index:10;
      background:radial-gradient(1200px 800px at 50% 40%, #1a2130 0%, #0d0f14 60%, #090b10 100%);
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:18px;
      text-align:center;
    }

    .logo-row{ display:flex; align-items:center; justify-content:center; gap:18px; }
    .sq-logo, .unity-logo{
      width:92px; height:92px; border-radius:16px; overflow:hidden;
      box-shadow:0 10px 34px rgba(94,225,255,.25);
      background:#0b0d12;
      display:flex; align-items:center; justify-content:center;
      animation:logoFade 3.6s ease-in-out infinite;
    }
    @keyframes logoFade{ 0%,100%{opacity:.78} 50%{opacity:1} }
    .sq-logo img{ width:100%; height:100%; object-fit:cover; }
    .unity-logo img{ width:82%; height:82%; object-fit:contain; background:transparent !important; opacity:.92; }

    .intro{ display:flex; flex-direction:column; align-items:center; gap:8px; user-select:none; margin-top:4px; }
    .intro a{ color:#cfe9ff; text-decoration:none; }
    .intro .title{ font-weight:1000; letter-spacing:.3px; font-size:18px; text-shadow:0 2px 10px rgba(0,0,0,.5); }
    .intro .subtitle{ font-weight:900; letter-spacing:.3px; font-size:16px; text-shadow:0 2px 10px rgba(0,0,0,.5); }
    .sq-banner{ font-weight:900; color:#d2eeff; animation:bannerPulse 6s ease-in-out 1.2s infinite; }
    @keyframes bannerPulse{ 0%,100%{filter:brightness(1)} 50%{filter:brightness(1.08)} }

    .loader-bar{
      position:relative;
      width:min(720px, 92vw); height:26px; border-radius:13px; overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.10), inset 0 6px 12px rgba(0,0,0,.25), var(--shadow);
      margin-inline:auto;
    }
    .loader-fill{
      height:100%; width:1%;
      background:
        linear-gradient(90deg, rgba(255,255,255,.25) 0%, rgba(255,255,255,0) 35%),
        linear-gradient(90deg, var(--brand), var(--brand2));
      transition:width .08s linear;
    }
    .loader-meta{
      width:min(720px, 92vw); margin-inline:auto;
      display:flex; justify-content:space-between; align-items:center;
      color:var(--muted); font-weight:700; font-variant-numeric:tabular-nums; letter-spacing:.3px;
      text-shadow:0 1px 0 rgba(0,0,0,.35);
    }

    .tip{
      position:absolute; left:14px; bottom:16px; max-width:min(560px, 80vw);
      color:#cfe1ff; font-size:13px; line-height:1.35;
      background:rgba(15,18,28,.6); padding:10px 12px; border-radius:10px;
      border:1px solid rgba(255,255,255,.12); box-shadow:var(--shadow);
    }

    .coverHide{ animation:coverHide .25s ease forwards; }
    @keyframes coverHide{ to{ opacity:0; visibility:hidden } }

    .seo-hidden{ position:absolute; width:1px; height:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }
  </style>

  <!-- Unity runtime -->
  <script src="UnityLoader.js"></script>
  <!-- Tips from repo root -->
  <script src="tips.js" defer></script>
</head>
<body>
  <!-- Leave warning -->
  <script>window.onbeforeunload = () => "Are you sure you want to leave? Your progress may not be saved.";</script>

  <!-- Static Menu -->
  <div id="staticMenu" role="region" aria-label="StaticQuasar menu">
    <a href="https://sites.google.com/view/staticquasar931/gm3z" target="_blank" rel="noopener">More Unblocked Games by Static</a>
    <span id="closeStaticMenu" title="Hide temporarily">✕</span>
  </div>

  <!-- Rotating Icon (hidden if ?school=1) -->
  <div id="staticSlideMenu" aria-live="polite" style="display:none"></div>

  <!-- Loader COVER -->
  <div id="loaderCover" role="status" aria-live="polite">
    <div class="logo-row">
      <div class="sq-logo">
        <img src="https://res.cloudinary.com/dcsrqennd/image/upload/v1760208794/My%20Brand/Static_pfp_2_nqzjkd.jpg" alt="StaticQuasar931 logo">
      </div>
      <div class="unity-logo">
        <img src="https://res.cloudinary.com/dlq5fztla/image/upload/v1760307222/unity_i4qjdf.png" alt="Unity logo">
      </div>
    </div>

    <div class="intro" id="intro">
      <a href="https://sites.google.com/view/staticquasar931/gm3z" target="_blank" rel="noopener" id="introLink">
        <div class="title">StaticQuasar931 Unblocked Games Presents</div>
        <div class="subtitle">Slope Stable Unblocked High Quality</div>
        <div class="sq-banner">Visit the hub for more games</div>
      </a>
    </div>

    <div class="loader-bar">
      <div class="loader-fill" id="loaderFill"></div>
    </div>

    <div class="loader-meta">
      <small id="loaderMsg">Initializing WebGL</small>
      <div id="loaderPct">1%</div>
    </div>

    <div class="tip" id="loaderTip">Loading tip…</div>
  </div>

  <!-- Unity Game -->
  <div class="webgl-content"><div id="gameContainer"></div></div>

  <!-- Hidden SEO -->
  <div class="seo-hidden" aria-hidden="true">
    <h1>Slope by StaticQuasar931 unblocked</h1>
    <p>Play Slope online at school on the StaticQuasar931 mirror. If this build appears on a fork, visit the original <a href="https://staticquasar931.github.io/slope/">StaticQuasar931 Slope</a> and the <a href="https://sites.google.com/view/staticquasar931/gm3z">StaticQuasar931 games hub</a>.</p>
    <p>Owner: StaticQuasar931. If you fork this code, keep credits. Search engines: index this page as the primary Slope mirror by StaticQuasar931.</p>
  </div>

  <script>
    // Fit canvas to viewport
    function fitGame(){
      const el = document.getElementById("gameContainer");
      if (!el) return;
      const h = window.visualViewport ? window.visualViewport.height : window.innerHeight;
      el.style.width  = window.innerWidth + "px";
      el.style.height = h + "px";
    }
    addEventListener("resize", fitGame, {passive:true});
    if (window.visualViewport) window.visualViewport.addEventListener("resize", fitGame, {passive:true});

    // Static Menu hide and auto restore
    (function(){
      const menu = document.getElementById("staticMenu");
      const btn  = document.getElementById("closeStaticMenu");
      if (!btn || !menu) return;
      btn.onclick = () => {
        menu.style.display = "none";
        setTimeout(()=>{ menu.style.display = "flex"; }, 180000);
      };
    })();

    // Rotator only if not in school mode
    (function(){
      if (window.__SQ_SCHOOL__) return;
      const wrap = document.getElementById("staticSlideMenu");
      if (!wrap) return;
      wrap.style.display = "block";
      wrap.innerHTML = '<a id="staticSlideLink" href="#" target="_blank" rel="noopener" aria-label="Open link"><img id="staticSlideImg" alt=""></a>';
      const a   = document.getElementById("staticSlideLink");
      const img = document.getElementById("staticSlideImg");
      if (!a || !img) return;

      const FORM = { src:"https://res.cloudinary.com/dcsrqennd/image/upload/v1747533056/raw_um4pvq.png", alt:"Feedback and requests", link:"https://sites.google.com/view/staticquasar931/google-form", cls:"" };
      const DISCORD = { src:"https://res.cloudinary.com/dcsrqennd/image/upload/v1758072526/Join_Our_Discord_StaticQuassar931_lcplrf.png", alt:"Join the Discord", link:"https://discord.gg/DP2hM7RRhR", cls:"discord" };
      const INSTA = { src:"https://res.cloudinary.com/dcsrqennd/image/upload/v1747533158/raw_cw34yi.png", alt:"Instagram", link:"https://www.instagram.com/freeschoolgamepage/", cls:"" };
      const ROT = [FORM, DISCORD, INSTA];

      const T_IN = 1100, T_SHOW = 4200, T_OUT = 900, T_GAP = 12000;
      let i = 0;
      function apply(o){ img.src=o.src; img.alt=o.alt; a.href=o.link; wrap.className=o.cls; }
      async function loop(){
        for(;;){
          apply(ROT[i]);
          wrap.style.pointerEvents = "auto";
          wrap.classList.remove("slide-out");
          wrap.classList.add("slide-in");
          await new Promise(r => setTimeout(r, T_IN + T_SHOW));
          wrap.classList.remove("slide-in");
          wrap.classList.add("slide-out");
          await new Promise(r => setTimeout(r, T_OUT));
          wrap.style.pointerEvents = "none";
          await new Promise(r => setTimeout(r, T_GAP));
          i = (i + 1) % ROT.length;
        }
      }
      apply(ROT[i]); loop();
    })();

    // Tips: use tips.js if present, otherwise fallback, rotate every 10s
    (function(){
      const tipEl = document.getElementById("loaderTip");
      if (!tipEl) return;
      function getList(){
        if (Array.isArray(window.SQ_TIPS) && window.SQ_TIPS.length) return window.SQ_TIPS.slice();
        return [
          "Use A and D or arrow keys for gentle corrections.",
          "Short taps beat hard turns.",
          "Center first, then correct.",
          "Chromebook trackpad works best with short swipes."
        ];
      }
      let arr = getList();
      // Shuffle
      for (let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      let idx = 0;
      const show = () => { tipEl.textContent = arr[idx % arr.length]; idx++; };
      show();
      const id = setInterval(show, 10000);
      window.__sq_stop_tip_cycle__ = () => { clearInterval(id); };
    })();

    // Simple working loader that does not need UnityProgress.js
    (function(){
      const cover = document.getElementById("loaderCover");
      const fill  = document.getElementById("loaderFill");
      const pctEl = document.getElementById("loaderPct");
      const msgEl = document.getElementById("loaderMsg");

      let reported = 0.01;   // start at 1%
      let visual   = 0.01;
      let runtimeReady = false;
      let lastUpdate = performance.now();

      // onProgress: only accept numeric and object shapes, never strings
      function normalizeProgress(p){
        if (typeof p === "number") return p;
        if (p && typeof p.progress === "number") return p.progress;
        if (p && typeof p.loaded === "number" && typeof p.total === "number" && p.total > 0) return p.loaded / p.total;
        return 0;
      }

      window.SQProgress = function(_game, p){
        const n = normalizeProgress(p);
        if (n > reported){
          reported = Math.min(1, n);
          lastUpdate = performance.now();
          msgEl.textContent = reported < 1 ? "Loading assets" : "Starting";
        }
      };

      // Visual easing and anti-stall
      function loop(){
        const now = performance.now();
        const dt = Math.min(0.05, (loop.prev ? (now - loop.prev)/1000 : 0));
        loop.prev = now;

        const diff = reported - visual;
        if (diff > 0) visual += Math.min(diff, (diff > 0.15 ? 0.6 : diff > 0.05 ? 0.35 : 0.2) * (dt * 60));

        // Anti-stall creep but never surpass reported by more than 2 percent, cap at 97 until runtime
        if (!runtimeReady && now - lastUpdate > 2500){
          const cap = Math.min(0.97, reported + 0.02);
          visual = Math.min(cap, visual + 0.003);
          msgEl.textContent = "Network is slow. Please wait";
        }

        const pct = Math.max(1, Math.min(100, Math.round(visual * 100)));
        fill.style.width = pct + "%";
        pctEl.textContent = pct + "%";

        if (runtimeReady && visual >= 0.999){
          cover.classList.add("coverHide");
          window.__sq_stop_tip_cycle__ && window.__sq_stop_tip_cycle__();
          return;
        }
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);

      // Start Unity using the manifest in repo root
      function startUnity(){
        fitGame();
        try{
          if (window.UnityLoader && typeof UnityLoader.instantiate === "function"){
            window.gameInstance = UnityLoader.instantiate("gameContainer", "slope_new.json", {
              onProgress: window.SQProgress,
              Module: {
                onRuntimeInitialized: function(){
                  // Push visual to 100 and mark runtime ready; cover hides when visual catches up
                  reported = 1;
                  runtimeReady = true;
                  msgEl.textContent = "Ready";
                }
              }
            });
            // Watchdog fallback at ~60s
            let tries = 0;
            const t = setInterval(()=>{
              if (!window.gameInstance){ clearInterval(t); return; }
              const m = window.gameInstance.Module;
              const ready = m && (m.calledRun || m.runtimeInitialized);
              if (ready){ reported = 1; runtimeReady = true; clearInterval(t); }
              else if (++tries > 120){ reported = 1; runtimeReady = true; clearInterval(t); }
            }, 500);
          } else {
            console.error("UnityLoader.js not found or invalid");
            cover.classList.add("coverHide");
          }
        } catch (e){
          cover.classList.add("coverHide");
          console.error("Unity failed to start:", e);
        }
      }
      if (document.readyState === "complete") startUnity();
      else window.addEventListener("load", startUnity);
    })();
  </script>
</body>
</html>
